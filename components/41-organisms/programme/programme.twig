<div class="programme-wrapper">
  <h2 class="visually-hidden">Programme</h2>
  <div class="programme box-top">
    <dl class="inner-box">

      {% for slotKey, slot in slots %}
        <div class="programme-slot">
          <dt class="programme-slot-title">{{ slot.title }}</dt>
          <dd>
            <ul class="grid-3">

            {% for itemKey, item in slot.items %}
              {% set key = slotKey ~ itemKey %}
              <li>
                <!-- Programme detail -->
                <section id="{{ key }}" class="programme-detail modal" tabindex="-1">
                  <div class="programme-detail-inner">
                    <div class="modal-actions">
                      {% include '@modal-close' %}
                    </div>

                    <h3>{{ item.title }}</h3>
                    {% if item.subtitle %}
                      <h4>{{ item.subtitle }}</h4>
                    {% endif %}

                    {% if item.images|length > 1 %}
                      {% include '@image-gallery--multiple' with {
                        type: 'secondary',
                        items: item.images
                      } %}
                    {% elseif item.images|length > 0  %}
                      {% include '@image-gallery' with {
                        type: 'secondary',
                        src: item.images|first.src,
                        alt: item.images|first.alt,
                        caption: item.images|first.caption
                      } %}
                    {% endif %}

                    {% if item.description %}
                      {% include '@paragraph' with {
                        'text': item.description
                      } %}
                   {% endif %}

                    {% if item.video %}
                      {% include '@video' with item.video %}
                    {% endif %}
                  </div>
                </section>
                <div class="programme-detail-overlay"></div>
                <!-- /Programme detail -->

                <!-- Programme Teaser -->
                {% include '@teaser-programme' with {
                  teaser_uid: 'uid_' ~ key,
                  teaser_paragraph_text: item.subtitle,
                  teaser_title: item.title,
                  teaser_link_text: 'read more',
                  teaser_link_link: '#' ~ key,
                  teaser_image_src: (item.images|first.src)|default('data:image/gif;'),
                  teaser_image_alt_text: item.images|first.alt
                } %}
                <!-- /Programme Teaser -->
              </li>
            {% endfor %}

          </ul>
          </dd>
        </div>
      {% endfor %}

    </dl>
  </div>
</div>
