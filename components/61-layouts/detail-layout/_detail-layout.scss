.detail-layout {
  @extend %content-container;

  font-size: .9rem;
  line-height: 1.8;

  // Give each direct child a specific width.
  // This is a fallback width given to all children of the detail layout.
  .w7-o2,
  > * {
    @include desktop {
      @include set-layout('width-7', 'offset-2');
    }
  }

  > .content-header-container {
    margin-right: -20px;
    margin-left: -20px;

    @include tablet {
      width: calc(100% + 135px * 2);
      margin-left: -135px;
      padding-right: 135px;
      padding-left: 135px;
    }

    &.accolade-title {
      @include tablet {
        // Set max width because the absolute title gets out of boundary.
        .left {
          max-width: calc(100% - (135px * 2 + 20px));
        }
      }
    }

    & + .summary-box,
    & + .table-of-contents {
      position: relative;
      z-index: 1;
    }

    &.image {
      & + .summary-box,
      & + .table-of-contents {
        margin: 20px 0 40px;

        @include tablet {
          margin: 120px 0 40px;
        }

        @include desktop {
          max-width: calc($bp-max-content - 570px - 60px);
          margin: -256px 0 100px;
        }
      }
    }

    &:not(.image) {
      // @todo: + .teasers
      & + .summary-box,
      & + .table-of-contents,
      & + .partner-block {
        @include set-layout('width-12');

        margin-top: -150px;

        @include tablet {
          margin-top: -120px;
        }
      }

      + .partner-block {
        max-width: 100%;
        padding: 20px;
        background-color: color('white');

        @include tablet {
          padding: 60px;
        }
      }
    }
  }

  > div:not(.content-header-container),
  > section,
  > aside,
  > article,
  > nav {
    margin-top: 60px;
    margin-bottom: 60px;
  }

  > ul,
  > ol {
    padding-left: 20px;
  }

  .w9-o1 {
    @include desktop {
      @include set-layout('width-9', 'offset-1');
    }
  }

  .w10-o1,
  > .highlight,
  > .image-gallery--wrapper.multiple {
    @include desktop {
      @include set-layout('width-10', 'offset-1');
    }
  }

  > .highlight {
    margin-bottom: 90px;
  }

  > ul.accordion {
    @include desktop {
      @include set-layout('width-7', 'offset-2');
    }

    .accordion--content p {
      line-height: 1.75;
    }
  }

  > .partner-block {
    @include desktop {
      @include set-layout();
    }
  }

  > .quote-wrapper {
    @include desktop {
      @include set-layout();

      > .quote {
        @include set-layout('width-7', 'offset-4');
      }
    }
  }

  > .cta-block {
    @include desktop {
      @include set-layout('width-11', 'offset-1');
    }

    &.image-left,
    &.image-right {
      @include set-layout('width-12');
    }
  }

  .w12,
  > .timeline-wrapper,
  > .programme-wrapper {
    @include set-layout();
    @include extra-wide;
  }

  .readspeaker-button {
    display: block;
    width: auto;
    margin-top: -8px;
    margin-bottom: 40px;
  }

  .openinghours-widget[data-type="month"] {
    @include desktop {
      @include month-widget-mobile;
    }

    @include breakpoint(1200px) {
      @include month-widget-desktop;
    }
  }

  > .full-width {
    @include full-width;
  }
}

$bulb-image-width: 120px;

aside.top,
aside.bottom {
  @extend %content-container;

  > * {
    @include theme('border-color', 'color-primary--lighten-4', 'more-info-block-border-color');

    padding-top: 60px;
    border-top: 2px solid;

    @include tablet {
      padding-top: 40px;
    }

    @include desktop {
      @include set-layout();
      width: 100%;
      margin-bottom: 40px;
      margin-left: 0;
      padding-right: span(2 wide of 12);
      padding-left: span(2 wide of 12);
    }
  }

  > p {
    padding-top: 0;
    border-top: 0;
  }
}

aside.top {
  position: relative;
  margin: 100px auto 0;

  > div:first-child {
    &::before {
      @include spot-image('lightbulb', $bulb-image-width);

      display: block;
      position: relative;
      margin: (-$bulb-image-width) auto 20px;
      z-index: z('default');

      @include tablet {
        position: absolute;
        top: -($bulb-image-width*.5);
        right: span(1 of 12);
        margin: 0;
      }
    }
  }
}

aside.bottom {
  .changed-date {
    @include desktop {
      @include set-layout('width-9', 'offset-2');
    }

    padding: 0;
  }
}
