////
///
/// This file defines all color settings, mixins and functions necessary
/// to provide the themify engine the style guide is based on.
///
/// @group colors
///
////

///
/// The colors map defines all basic and secondary colors.
///
/// @since 3.0.0
/// @group colors
/// @access public
/// @type map
///
$colors: (
  // 6.x colors
  'gray': #001823,
  'blue': #005ba9,
  'yellow': #ffdb5a,
  'cyan': #009de0,
  'cyan-hover': #1abcff,
  'red': #ea0d33,
  'green': #2c8726,
  'white': #fff,

  // 5.x colors legacy
  'cyan-wcag': #007db3,
  'dark-gray': #23333a,
  'teal': #29cfc9,
  'lemon': #f5d605,
  'orange': #f95706,
  'pink': #f09,
  'purple': #5a0ec4,
) !default;


///
/// This map describes different tints. These are used to calculate all
/// color swatches based on the base colors in $colors.
///
/// @since 3.0.0
/// @group colors
/// @access public
/// @type map
///
$tints: (
  1: 10%,
  2: 25%,
  3: 50%,
  -1: .75,
  -2: .6,
  -3: .5,
  -4: .25,
  -5: .1,
  -6: .06,
  -7: .02,
) !default;

///
/// Themify adds the color for box shadows, this just defines the box shadow
/// without a specific color so it can be reused.
///
/// @since 3.0.0
/// @group colors
/// @access public
/// @type string
///
$box-shadow-primary: 0 2px 8px 0;
$box-shadow-secondary: 0 2px 12px 0;

///
/// A function to convert a rgba color to a rgb color.
///
/// @since 3.0.0
/// @group colors
/// @access public
///
/// @param {color} $base-color
///   The key of the color in the $colors map.
///
/// @param {color} $background [#fff]
///   The color to mix with.
///
@function rgba-to-rgb($base-color, $background: #fff) {
  @return mix(rgb(red($base-color), green($base-color), blue($base-color)), $background, alpha($base-color) * 100%);
};

///
/// A function to get a color from the $colors map.
///
/// @since 3.0.0
/// @group colors
/// @access public
/// @require $colors
///
/// @param {color} $base-color
///   The key of the color in the $colors map.
///
/// @param {int} $tint [0]
///   The tint to be applied to the base color.
///
/// @param {boolean} $transparent [false]
///   True when you need a RGBA color, otherwise HEX value will return.
///
/// @param {map} colors$ [$colors]
///   The colors array to use to calculate the correct color tint.
///
@function color($base-color, $tint: 0, $transparent: false, $colors: $colors) {
  @if not map-has-key($colors, $base-color) {
    @warn "`#{inspect($base-color)}` doesn't seem to be a valid base color.";
  }

  $color: null;
  @if $tint != 0 {
    @if $tint > 0 {
      $color: shade($base-color, $tint, $colors);
    }
    @if $tint < 0 {
      $color: tint($base-color, $tint, $colors);
    }

    @if $transparent {
      @return $color;
    }
    @else {
      @return rgba-to-rgb($color);
    }
  }
  @if $tint == 0 {
    @return map-get($colors, $base-color);
  }
};

///
/// A function to adjust the opacity of a base color.
///
/// @since 3.0.0
/// @group colors
/// @access public
/// @require $tints
/// @require $colors
///
/// @param {color} $base-color
///   The base color to be modified.
///
/// @param {int} $tint
///   The tint value to modify the base color with.
///
/// @param {map} colors$ [$colors]
///   The colors array to use to calculate the correct color tint.
///
@function tint($base-color, $tint, $colors: $colors) {
  @if not map-has-key($tints, $tint) {
    @warn "`#{inspect($tint)}` doesn't seem to be a valid tint value.";
  }

  @return rgba(map-get($colors, $base-color), map-get($tints, $tint));
};

///
/// A function to darken a base color.
///
/// @since 3.0.0
/// @group colors
/// @access public
/// @require $tints
/// @require $colors
///
/// @param {color} $base-color
///   The base color to be modified.
///
/// @param {int} $tint
///   The value to shade the base color with.
///
/// @param {map} colors$ [$colors]
///   The colors array to use to calculate the correct color tint.
///
@function shade($base-color, $tint, $colors: $colors) {
  $color-black: #000;

  @if not map-has-key($tints, $tint) {
    @warn "`#{inspect($tint)}` doesn't seem to be a valid tint value.";
  }

  @return mix($color-black, map-get($colors, $base-color), map-get($tints, $tint));
};

///
/// Themify settings. This determines the colors for all main and subthemes.
///
/// @since 3.0.0
/// @group colors
/// @access public
/// @type map
///
$themes: (
  'blue': (
    // Required colors!
    'color-zero': color('gray'),
    'color-none': color('white'),
    'color-primary': color('blue'),
    'color-secondary': color('yellow'),
    'color-tertiary': color('cyan'),
    'color-info': color('cyan'),
    'color-success': color('green'),
    'color-warning': color('orange'), // Deprecated color.
    'color-error': color('red'),
    'color-box-shadow': $box-shadow-primary color('gray', -4), // @todo Remove shadow.
    'color-box-shadow-hover': $box-shadow-primary color('gray', -3), // @todo Remove shadow.
    'color-box-shadow-dark': $box-shadow-primary color('gray', -4), // @todo Remove shadow.
    'color-box-shadow-dark-hover': $box-shadow-primary color('gray', -3), // @todo Remove shadow.
    'color-box-shadow-secondary-dark': $box-shadow-secondary color('gray', -4), // @todo Remove shadow.

    'default-text-color': color('gray'),

    'accolade-stroke-light': svg-as-background('accolade-stroke', color('cyan', -5), 1280, 21),
    'accolade-stroke-dark': svg-as-background('accolade-stroke', color('cyan', 1), 1280, 21),

    // Exceptions to colors go here...
    // These should be as limited as possible though!
    'heading-inverse-primary-background-color': color('blue'),

    'link-color': color('blue'),
    'link-hover-color': color('blue'),
    'link-hover-background': color('cyan', -3),
    'link-underlined-hover-color': color('blue'),

    'focus-outline': color('cyan'),

    'breadcrumb-expandable-color': color('cyan'),
    'breadcrumb-expandable-background-color-hover': color('cyan', -5),

    'button-primary-background': color('gray'),
    'button-primary-color': color('white'),
    'button-primary-border-color': color('gray'), // @todo Remove border.
    'button-primary-hover-background': color('gray', -2),
    'button-primary-hover-color': color('white'),
    'button-primary-hover-border-color': color('gray', -2), // @todo Remove border.
    'button-primary-active-background': color('white'),
    'button-primary-active-color': color('gray'),
    'button-primary-active-border-color': color('gray'), // @todo Remove border.

    'button-secondary-background': color('cyan', -3),
    'button-secondary-border-color': color('cyan', -3), // @todo Remove border.
    'button-secondary-color': color('gray'),
    'button-secondary-hover-background': color('cyan-hover'),
    'button-secondary-hover-color': color('gray'),
    'button-secondary-hover-border-color': color('cyan-hover'), // @todo Remove border.
    'button-secondary-active-color': color('gray'),
    'button-secondary-active-background': color('white'),
    'button-secondary-active-border-color': color('cyan-hover'), // @todo Remove border.

    'image-gallery-show-more-background-color': color('cyan', 3),

    'radio-background-color-checked': color('cyan', -6),
    'radio-border-color-checked': color('cyan'),
    'radio-checkmark-color': color('cyan'),

    'radio-background-color-hover-and-checked': color('cyan', -4),
    'radio-border-color-hover-and-checked': color('cyan', 3),
    'radio-color-hover-and-checked': color('cyan', 3),

    'checkbox-background-color-checked': color('cyan', -6),
    'checkbox-border-color-checked': color('cyan'),
    'checkbox-checkmark-color': color('cyan'),

    'checkbox-background-color-hover-and-checked': color('cyan', -4),
    'checkbox-border-color-hover-and-checked': color('cyan', 3),
    'checkbox-color-hover-and-checked': color('cyan', 3),

    'readspeaker-icon-color': color('cyan'),
    'readspeaker-icon-border-color': color('cyan', -3),

    'tag-border-color-hover': color('cyan', -3),
    'tag-close-button-background-hover': color('cyan', -5),
    'teaser-label-icon-color': color('cyan'),

    'gentinfo-content-shadow': color('cyan', -6),

    'tag-border-color': color('cyan', -3),
    'tag-span-border-color': color('cyan', -4),
  )
) !default;
